<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Building and Updating Your Website</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}

.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Data Analysis in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="sessions.html">
    <span class="fa fa-calendar-alt"></span>
     
    Sessions
  </a>
</li>
<li>
  <a href="guides.html">
    <span class="fa fa-chalkboard-teacher"></span>
     
    Guides
  </a>
</li>
<li>
  <a href="resources.html">
    <span class="fa fa-folder"></span>
     
    Resources
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Building and Updating Your Website</h1>

</div>


<div id="building-the-first-time" class="section level2">
<h2>Building The First Time</h2>
<p>R markdown provides the ability to build simple static websites. These websites can then be easily hosted via a multitude of platforms (e.g. <a href="https://github.com/">github</a>, <a href="https://about.gitlab.com/">gitlab</a>, <a href="https://www.netlify.com/">netifly</a> among others.)</p>
</div>
<div id="open-a-new-project" class="section level2">
<h2>Open a new project</h2>
<p>Open a new project in R Studio and name it whatever you would like to call the website. If this is your personal website and you plan on hosting it on Github the project name should be <code>githubhandle.github.io</code> where <code>githubhandle</code> is your Github username. For example my username is <code>medewitt</code> thus my personal website name would be <code>medewitt.github.io</code>. If you are just designing a website for your project or for a course website, then whatever valid project name you would like, go ahead and make.</p>
</div>
<div id="set-up-the-yml" class="section level2">
<h2>Set Up the yml</h2>
<p>Now that you have a fresh R project, the first file that you need to make is your <code>_site.yml</code> file. This is a <code>yml</code> (<em>y_et a_nother</em> _m_arkup _l_angugage) file that tells R Studio some configuration parameters and most importantly how to build your website.</p>
<div id="create-this-file-by-selecting" class="section level3">
<h3>Create this file by selecting</h3>
<ol style="list-style-type: decimal">
<li>File</li>
<li>New File</li>
<li>New Text File</li>
</ol>
<p><img src="images/new_file.png" /></p>
<p>Now go ahead and copy the below text into the new file and save it as &quot;_site.yml&quot;.</p>
<p>The <code>_site.yml</code> file tells R Studio how to build your website. In the below example R Studio will build a website that is named “Data Analysis in R” that will output the built website into a folder called <code>docs</code>. Additionally there will be a navigation bar across the top with all of the individual features on the right. These features will include “Course Notes”, “Pre-Work”, and “Project” each with a <em>font awesome</em> icon and associated text. There are some additional features that have been created which include some information about citations, paging, and the css (or style sheet) for the website.</p>
<pre><code>name: &quot;Data Analysis in R&quot;
output_dir: &quot;docs&quot;
navbar:
  title: &quot;Data Analysis in R&quot;
  right:
  - text: &quot;Course Notes&quot;
    icon: fa-book
    href: course_notes.html
  - text: &quot;Pre-Work&quot;
    icon: fa-paper-plane
    href: pre_work.html
  - text: &quot;Project&quot;
    icon: fa-folder
    href: project.html
output:
  html_document:
    theme: journal
    highlight: textmate
    css: css/style.css
    df_print: paged
    toc: true
    toc_float: yes
    bibliography: library.bib
    biblio-style: apalike
    include:
      after_body: footer.html</code></pre>
<p>This will build the below site structure:</p>
<p>[images/rmd-website-1.png]</p>
<p>You’ll notice that the name of the website and the navigation bar are based on the names we specified in the <code>_site.yml</code> file.</p>
<p>You can see that the icons and text for each of the navigation features is also reflected.</p>
<pre><code>navbar:
  title: &quot;Data Analysis in R&quot;
  right:
  - text: &quot;Course Notes&quot;
    icon: fa-book
    href: course_notes.html
  - text: &quot;Pre-Work&quot;
    icon: fa-paper-plane
    href: pre_work.html
  - text: &quot;Project&quot;
    icon: fa-folder
    href: project.html</code></pre>
<p>[images/rmd-website-4.png]</p>
<p><em>There are thousands of Font Awesome Icons, if you don’t like these check out the <a href="https://fontawesome.com/cheatsheet">cheatsheet</a></em></p>
<p>You can also see how our specifications for table of contents (<code>toc</code>) is represented:</p>
<p>[images/rmd-website-3.png]</p>
<p>All of the features can be customised as you grow more comfortable in building your website.</p>
</div>
</div>
<div id="build-the-pages" class="section level2">
<h2>Build the pages</h2>
<p>Now that we have a <code>_site.yml</code> document we need to create some webpages. The first webpage that we need to create is the <code>index.html</code>. This is the default landing page for users who go to your website. With Rmarkdown websites we will generate all of our webpages through <code>.Rmd</code> files. All of the <code>Rmd</code> files will be rendered to html files with the same root name of the <code>Rmd</code> file.</p>
<p>To build the index page we will create a new Rmd document by:</p>
<ol style="list-style-type: decimal">
<li>File</li>
<li>New File</li>
<li>New R Markdown File</li>
</ol>
<p><img src="images/new_file.png" /></p>
<p>Go ahead and select html and don’t worry about the title…we’ll be changing that.</p>
<p>Now with your new Rmd file go ahead and change the <code>yml</code> within the header to look like the following:</p>
<pre><code>---
title: &quot;Welcome&quot;
---
</code></pre>
<p>Within the body of the Rmd document go ahead and type whatever message you would like people who enter your site to see. Within these documents you can use all of the normal markdown language markup styling. You can add code chunks and images to your heart’s desire.</p>
<p>When you finish, save this document as <code>index.Rmd</code>. You can repeat this process for each of the pages that you reference in your <code>_site.yml</code> document. Again, the names of the Rmd documents must match the html names in your <code>_site.yml</code>.</p>
</div>
<div id="update-the-css" class="section level2">
<h2>Update the css</h2>
<p>CSS or cascading style sheets are a way to formalise the format of html documents. If you do not specify a css file your website will be built with the standard css based on the theme you specify in the <code>_site.yml</code> file. In the case of the above example we chose the <code>journal</code> theme. That is a good place to start. However, if we want to modify our css for a particular feature we can do that by creating a css file. As in the above section create a new text file and save it in a folder call css. Then save this document as <code>style.css</code>.</p>
<p>If for example you want a first level header to be underlined (e.g. the the text after <code># Title One</code> to have an underline) then you can add a line to your <code>style.css</code> document like below:</p>
<pre><code>.level1 h1 {
  border-bottom: 2px solid;
}</code></pre>
<p>Now a two pixel wide, solid line will be drawn under ever level one header. Again, this feature is for more advanced users, but it is available for more customization.</p>
</div>
<div id="build-the-website" class="section level2">
<h2>Build the website</h2>
<p>After you have made all of your Rmd files that are associated with the individual pages that you have built it is time to build your website. This operation can be done a few different ways. Using the graphical user interface (GUI) approach, if you look in the upper right hand pane of R Studio you will see a tab called <strong>build</strong>. Select this tab and then press the <strong>build website</strong> button. This will initiate the build for your entire website. This shown below:</p>
<p>[images/rmd-website-5.png]</p>
<p>You can also initiate this process from the console by typing:</p>
<pre><code>rmarkdown::render_site()</code></pre>
<p>In either case all of the Rmds will be knitted to html files with additional html code appended based on your specification in the <code>_site.yml</code> file.</p>
<p>Now you just need to push <em>all</em> of the new files to Github. You can use the GUI, or use the terminal via:</p>
<pre><code>git add --a
git commit -m &quot;update website&quot;
git push origin master
</code></pre>
</div>
<div id="share-with-github-pages" class="section level2">
<h2>Share with Github pages</h2>
<p>The next step is to enable Github to share your static html website. This can be done by navigating to <a href="https://github.com" class="uri">https://github.com</a> in your browser to your repository. There go the settings tab:</p>
<p><img src="images/rmd-website-6" /></p>
<p>Once you have selected settings then scroll down to the <strong>Github Pages</strong> section.</p>
<p><img src="images/rmd-website-7" /></p>
<p>Once there select “master branch /docs folder” under the <strong>source</strong>.</p>
<p><img src="images/rmd-website-7" /></p>
<p>Go ahead and press the <strong>Save</strong> button. Now your website should be hosted at the web address displayed!</p>
</div>
<div id="update-the-website" class="section level2">
<h2>Update the website</h2>
<p>From time to time you may want to update your website. This could be updating pages our adding new pages. You would repeat the same kind of actions as described above when you created the website. For example you may need to update your <code>_site.yml</code> file if you want additional features to appear on your navigation bar. Additionally, you may just update content on an existing page.</p>
<p>Once you have completed your updates you can build the entire site as described above using the GUI or the console. If you do this the entire website will be rebuilt with the updates. However, if you only update one part of your website and don’t want to rebuild the entire website (which could be the case if one of your Rmd takes a long time to run like a model) then you can use the console to only render the page which you updated.</p>
<p>An example could be that I updated the <code>resources.Rmd</code> file. No other files have been changed. If I wanted to update only this file I could type the following command in the console:</p>
<pre><code>rmarkdown::render_site(&quot;resources.Rmd&quot;)</code></pre>
<p>R Studio will only rebuilt this document and any supporting information in the index.Rmd. This is especially useful if something takes a long time to run and you don’t need to rebuild it.</p>
<p>Again, after the update you would need to use the git commands to add, commit and push the updates to your Github. There is no need to change the settings on the repository. Your website should update shortly with the new changes.</p>
</div>
<div id="more-references" class="section level2">
<h2>More References</h2>
<p>This is just a primer. There are many other examples on how to build, update and customise R markdown websites</p>
<ul>
<li><p>For a simple primer, read <a href="https://rmarkdown.rstudio.com/rmarkdown_websites.htm">the introduction from R Studio</a></p></li>
<li><p>For the detailed information, read <a href="https://bookdown.org/yihui/rmarkdown/">the definitive guide to R Markdown</a></p></li>
<li><p>Another example of building an R Markdown website <a href="https://www.emilyzabor.com/tutorials/rmarkdown_websites_tutorial.html">here</a></p></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
